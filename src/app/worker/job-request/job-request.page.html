<ion-header>
  <ion-toolbar>
    <ion-title>Gestión de Solicitudes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <!-- Listado de Solicitudes Recibidas -->
  <ion-list>
    <ion-item-divider>
      <ion-label>Solicitudes Recibidas</ion-label>
    </ion-item-divider>

    <ion-item *ngFor="let request of current_worker_join_services" button [routerLink]="'j-r-detail/' + request.id">
    
      <ion-label>
        <h2>{{ request.client_name }}</h2>
        <p>{{ request.category }}</p>
        <p>{{ request.date_services.toMillis() | date:'yyyy/MM/dd h:mm:ss a' }}</p>        
        <ion-badge color="{{ get_state_color(request.status) }}">{{ get_state_name(request.status) }}</ion-badge>
      </ion-label>
    </ion-item>

    <ion-item *ngIf="current_worker_join_services.length == 0">
      <ion-label>
        <p>En este momento no hay solicitudes.</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <!-- Navegación al Historial de Trabajos -->
  <ion-item button (click)="goToJobHistory()">
    <ion-icon slot="start" name="briefcase-outline"></ion-icon>
    <ion-label>Historial de Trabajos</ion-label>
  </ion-item>

  <!-- Navegación al Chat General -->
  <ion-item button (click)="goToChats()">
    <ion-icon slot="start" name="chatbubbles-outline"></ion-icon>
    <ion-label>Chats con Clientes</ion-label>
  </ion-item>
</ion-content>